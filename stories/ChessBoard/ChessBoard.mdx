import { Meta, Story, Preview, ArgsTable } from '@storybook/addon-docs';
import { ChessBoard } from '../../packages/minotaur-chess-react/src/src/components/ChessBoard/ChessBoard';
import * as ChessBoardStories from './ChessBoard.stories';
import { Title, Primary, Controls } from '@storybook/blocks';

<Meta of={ChessBoardStories} title="Minotaur/ChessBoard" component={ChessBoard} />

# ChessBoard Component

The `ChessBoard` component displays a chessboard and pieces. It is agnostic of chess game logic so you will need to pass a movePiece callback where you can use your own game logic or the useMinotaur React hook. A component that does the integration for you is `ChessGame`.

## Usage

The `ChessBoard` component requires a `boardArray` and a `movePiece` handler as inputs. It also accepts configurations for custom behavior, such as setting specific pieces in check.

```tsx
<ChessBoard
  boardArray={emptyBoard}
  blackKingCheck={false}
  whiteKingCheck={true} // White king in check state
  movePiece={(piece, xFrom, yFrom, xTo, yTo) =>
    console.log(`Moving piece ${piece} from (${xFrom}, ${yFrom}) to (${xTo}, ${yTo})`)
  }
  config={minotaurConfig}
/>
```

You need to pass it a config with the images defined that your app will be serving:

```tsx
export const minotaurConfig: MinotaurConfig = {
  pieceImages: {
    blackPawn: '/chess-pieces/pawn_b.png',
    blackRook: '/chess-pieces/rook_b.png',
    blackKnight: '/chess-pieces/knight_b.png',
    blackBishop: '/chess-pieces/bishop_b.png',
    blackQueen: '/chess-pieces/queen_b.png',
    blackKing: '/chess-pieces/king_b.png',
    whitePawn: '/chess-pieces/pawn_w.png',
    whiteRook: '/chess-pieces/rook_w.png',
    whiteKnight: '/chess-pieces/knight_w.png',
    whiteBishop: '/chess-pieces/bishop_w.png',
    whiteQueen: '/chess-pieces/queen_w.png',
    whiteKing: '/chess-pieces/king_w.png',
  },
};
```

<Primary />
